<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rAthena Documentation</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Ace Editor CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.43.2/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.43.2/ext-language_tools.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.43.2/theme-monokai.js"></script>
    <link href="../index.css" rel="stylesheet" />
    <link rel="icon" href="/rdoc/page/img/icon.png" type="image/x-icon">
    <style>
        /* Styling for the Ace Editor container */
        .ace-editor-instance {
            min-height: 250px; /* Default height for Ace editor */
            max-height: 250px; /* Max height, Ace will add scrollbar */
            width: 100%;
            border-radius: 0.5rem; /* Match pre_container border-radius */
            overflow: hidden; /* Ensure content stays within rounded corners */
            font-size: 0.875rem; /* text-sm from original pre */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-blue-700 text-white p-4 shadow-lg rounded-b-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold rounded-md">rAthena Scripting Documentation</h1>
            <!-- Mobile menu button - non-functional in pure CSS static site -->
            <button style="margin-right:10px;" id="openModalBtn" class="bg-blue-600 hover:bg-blue-700 text-white p-3 rounded-full transition duration-300 ease-in-out transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-300 flex items-center justify-end">
                <!-- Search Icon SVG -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                </svg>
            </button>
            <!-- Mobile menu button - non-functional in pure CSS static site -->
            <button id="menu-toggle" class="md:hidden p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex flex-1 flex-col md:flex-row container mx-auto mt-4 p-4 gap-4">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="hidden w-full md:w-64 bg-white p-4 rounded-lg shadow-md md:sticky md:top-4 md:self-start"
                style="height:40rem;overflow:hidden;padding-right:5px !important;">
            <nav>
                <h2 class="text-xl font-semibold mb-4 text-gray-800">rAthena Topics</h2>
                <!-- IMPORTANT NOTE: the topic list name should be the same as topic Title -->
                <ul id="rathena-topic-list" class="space-y-2" style="height: 280px;overflow-y:scroll;font-size:13px;"></ul>
                <p style="padding:10px 0 10px 0"><hr/><br/></p>
                <h2 class="text-xl font-semibold mb-4 text-gray-800">Showcase Scripts</h2>
                <ul id="show-case-list" class="space-y-2" style="height:190px;overflow-y:scroll;font-size:13px;"></ul>
            </nav>
        </aside>

        <!-- Main Content Display Area -->
        <section id="content-display" class="flex-1 bg-white p-6 rounded-lg shadow-md">

            <div class="content-section mb-8">
                <!-- Ad container -->
                <div id="custom_ad_container"></div>
                <br/><hr/><br/>


                <!-- CHANGE THE CONTENT HERE -->


                <!-- IMPORTANT NOTE: the Title should be the same as List -->
                <h2 id="rathena-topic-title" class="text-3xl font-semibold mb-4 text-gray-800">getnpcid()</h2>
                <!-- Introduction Paragraph -->
                <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">What is getnpcid? ü§ñ</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    The <b>getnpcid</b> function retrieves the unique ID of the currently invoked NPC. It can also retrieve the ID of another specified NPC if its unique name is provided.
                </p>
                <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">How to use getnpcid? üí°</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    You use <b>getnpcid</b> by specifying the type of ID you want to retrieve (currently only <b>0</b> for NPC Game ID) and, optionally, the unique name of the target NPC. If no NPC name is given, it refers to the NPC running the script.
                </p>
                <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">Purpose of getnpcid? üéØ</h3>
                <p class="text-gray-700 leading-relaxed mb-4">
                    The primary purpose of <b>getnpcid</b> is to obtain the unique Game ID (GID) of an NPC. This GID is crucial for commands that interact directly with NPC objects, such as <code>unitwalk</code>, <code>unitstop</code>, or <code>setunitdata</code>, allowing precise control over specific NPC instances.
                </p>
                <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">Syntax of getnpcid? üìù</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-700 mb-4">
                    <li><code>getnpcid(&lt;type&gt;{,"&lt;npc name&gt;"})</code></li>
                </ul>
                <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">Syntax Parameter Explain üß©</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-700 mb-4">
                    <li><code>&lt;type&gt;</code>: This parameter specifies the kind of ID to retrieve. According to the documentation, the only valid type is:
                        <ul class="list-disc list-inside ml-4 space-y-1 text-gray-700 mt-1">
                            <li><b>0</b>: NPC Game ID (GID).</li>
                        </ul>
                    </li>
                    <li><code>"&lt;npc name&gt;"</code> (Optional): This is the unique name of the NPC whose ID you want to retrieve. If this parameter is omitted, the function will return the ID of the NPC that is currently executing the script.</li>
                </ul>
                <p class="text-gray-700 leading-relaxed mb-4">
                    If an invalid type is provided or the specified NPC does not exist, the function will return <b>0</b>.
                </p>

<div class="pre_container"><div class="text-gray-700" style="margin-bottom:-25px;"><b>Example Code:</b></div>
<button class="copy-button">Copy</button>
<pre>
//===== rAthena Script =======================================
//= GetNPCID Sample
//===== By: rAthena AI Assistant ============================
//= Demonstrates how to use the getnpcid function to retrieve
//= NPC Game IDs.
//============================================================
prontera,156,180,4&#9;script&#9;NPC_ID_Teller#MAIN&#9;911,{
    mes "Hello! I am NPC_ID_Teller. My GID is: " + getnpcid(0);
    next;

    mes "Let me check the GID of another NPC named 'NPC_Friend#01'.";
    .@friend_npc_gid = getnpcid(0, "NPC_Friend#01");

    if (.@friend_npc_gid != 0) {
        mes "The GID of NPC_Friend#01 is: " + .@friend_npc_gid;
    } else {
        mes "NPC_Friend#01 was not found or is not enabled.";
    }
    close;
}

prontera,158,183,4&#9;script&#9;NPC_Friend#01&#9;912,{
    mes "Hello! I am NPC_Friend#01. I'm just here to be found.";
    close;
}
</pre>
</div>
                    <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">In this script:</h3>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        The sample script consists of two NPC definitions and works as follows:
                    </p>
                    <ul class="list-disc list-inside space-y-1 text-gray-700 mb-4">
                        <li><b>NPC_ID_Teller#MAIN</b> (Main NPC): When a player clicks on this NPC, it first displays its own Game ID (GID) using <code>getnpcid(0)</code>. Since no NPC name is specified, it defaults to the current NPC. It then attempts to retrieve the GID of another NPC named <code>NPC_Friend#01</code> using <code>getnpcid(0, "NPC_Friend#01")</code>. A conditional check (if (.@friend_npc_gid != 0)) is performed to see if <code>NPC_Friend#01</code> was successfully found. If found, its GID is displayed; otherwise, a message indicating it wasn't found is shown.</li>
                        <li><b>NPC_Friend#01</b> (Auxiliary NPC): This NPC is a simple, static NPC whose primary purpose in this example is to exist on the map so that <code>NPC_ID_Teller#MAIN</code> can attempt to retrieve its GID. It has a basic greeting message when clicked directly.</li>
                    </ul>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        This script demonstrates how to get the GID of the executing NPC and how to target another NPC by its unique name to retrieve its GID, which is essential for inter-NPC communication and control.
                    </p>

                    <h3 class="text-xl font-medium mb-2 text-gray-800 mt-4">This would look like this:</h3>
                    <video autoplay loop muted playsinline width="100%" height="auto">
                        <source src="img/getnpcid_vid_00.mp4" type="video/mp4" />
                        Your browser does not support the video tag.
                    </video>

            <!-- END OF CHANGE THE CONTENT HERE -->

            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-4 mt-8 rounded-t-lg"></footer>

    <script src="../rathena_highlight_rules.js"></script>
</body>
</html>
